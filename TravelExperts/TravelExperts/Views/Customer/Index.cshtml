@model Data.Core.Models.Customer
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_InputLayout.cshtml";
}
    <link href="~/Content/Styles/CustomerStyles.css" rel="stylesheet" />
<div class="flexcontainer">

    <div>
        <div>
            @Html.LabelFor(c => c.CustFirstName)
            @Html.TextBoxFor(c => c.CustFirstName)
            @Html.ValidationMessageFor(v => v.CustFirstName)
        </div>
        <div>
            @Html.LabelFor(c => c.CustLastName)
            @Html.TextBoxFor(c => c.CustLastName)
            @Html.ValidationMessageFor(c => c.CustLastName)


        </div>
        <div>
            @Html.LabelFor(c => c.CustAddress)
            @Html.TextBoxFor(c => c.CustAddress)
            @Html.ValidationMessageFor(v => v.CustAddress)

        </div>
        <div>
            @Html.LabelFor(c => c.CustCity)
            @Html.TextBoxFor(c => c.CustCity)
            @Html.ValidationMessageFor(v => v.CustCity)

        </div>
        <div>
            @Html.LabelFor(c => c.CustProv)
            @Html.TextBoxFor(c => c.CustProv)
            @Html.ValidationMessageFor(v => v.CustProv)

        </div>
        <div>
            @Html.LabelFor(c => c.CustPostal)
            @Html.TextBoxFor(c => c.CustPostal)
            @Html.ValidationMessageFor(v => v.CustPostal)

        </div>
    </div>
</div>
<div>
    <div>
        <div>
            @Html.LabelFor(c => c.CustCountry)
            @Html.TextBoxFor(c => c.CustCountry)
            @Html.ValidationMessageFor(v => v.CustCountry)

        </div>
        <div>
            @Html.LabelFor(c => c.CustHomePhone)
            @Html.TextBoxFor(c => c.CustHomePhone)
            @Html.ValidationMessageFor(v => v.CustHomePhone)

        </div>
        <div>
            @Html.LabelFor(c => c.CustBusPhone)
            @Html.TextBoxFor(c => c.CustBusPhone)
            @Html.ValidationMessageFor(v => v.CustBusPhone)
        </div>
        <div>
            @Html.LabelFor(c => c.CustEmail)
            @Html.TextBoxFor(c => c.CustEmail)
            @Html.ValidationMessageFor(v => v.CustEmail)
        </div>
        <div class="form-group">
            <div>
                <input id="updateCustomer" type="submit" class="btn btn-default" value="Update" />
                @Html.HiddenFor(m => m.CustomerId)
            </div>
        </div>
    </div>
</div>


<script src="~/Scripts/jquery-3.4.1.min.js"></script>
<script>
    $(document).ready(function () {
        $("#updateCustomer").on("click",
            function (e) {
                e.preventDefault();
                var formData = {
                    CustomerId: $("#CustomerId").val(),
                    CustFirstName: $("#CustFirstName").val(),
                    CustLastName: $("#CustLastName").val(),
                    CustAddress: $("#CustAddress").val(),
                    CustCity: $("#CustCity").val(),
                    CustProv: $("#CustProv").val(),
                    CustPostal: $("#CustPostal").val(),
                    CustCountry: $("#CustCountry").val(),
                    CustHomePhone: $("#CustHomePhone").val(),
                    CustBusPhone: $("#CustBusPhone").val(),
                    CustEmail: $("#CustEmail").val()
                }
                $.ajax({
                    contentType: 'application/json; charset=utf-8',
                    dataType: 'json',
                    type: 'POST',
                    url: "/Customer/Update",
                    data: `{model: ${JSON.stringify(formData)}}`,
                    success:
                        function (result) {
                            alert(result);
                        },
                    error: function () {
                        alert("Error!");
                    }
                });
            });
    });

</script>